generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Recipe {
  id               Int      @id @default(autoincrement())
  RCP_SNO          Int      @unique // 레시피 일련번호
  RCP_TTL          String   // 레시피 제목
  CKG_NM           String   // 요리명
  RGTR_ID          String   // 등록자 ID
  RGTR_NM          String   // 등록자명
  CKG_MTH_ACTO_NM  String   // 요리방법별명
  CKG_STA_ACTO_NM  String   // 요리상황별명
  CKG_MTRL_ACTO_NM String   // 재료별명
  CKG_KND_ACTO_NM  String   // 종류별명
  CKG_IPDC         String?  // 요리소개
  CKG_MTRL_CN      String?  // 재료내용
  CKG_INBUN_NM     String   // 인분명
  CKG_DODF_NM      String   // 난이도명
  CKG_TIME_NM      String   // 조리시간명
  FIRST_REG_DT     BigInt   // 최초등록일시
  IMAGE_URL        String?  // 이미지 URL (CSV의 마지막 빈 컬럼)
  
  // 시스템 생성일시
  createdAt        DateTime @default(now())

  @@map("recipes")
}

enum IngredientCategory {
  VEGETABLE
  MEAT
  DAIRY
  SEASONING
  OTHER
}

model Ingredient {
  id          Int      @id @default(autoincrement())
  name        String              @db.VarChar(80)
  category    IngredientCategory  @default(OTHER)
  quantity    Float               @default(1)
  unit        String              @db.VarChar(16)      // "개" 같은 단위 자유 입력
  purchasedAt DateTime?           // 구입일
  expiresAt   DateTime?           // 유통기한

  createdAt   DateTime            @default(now())
  updatedAt   DateTime            @updatedAt
}
